(this["webpackJsonpreact-chat"]=this["webpackJsonpreact-chat"]||[]).push([[0],{55:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return u})),n.d(t,"d",(function(){return l})),n.d(t,"c",(function(){return j}));var r=n(30),o=n.n(r),c=n(39),i=n(49),a=(n(89),n(91),i.a.initializeApp({apiKey:"AIzaSyBejxnH9aZVwSyP-ea9ETP0fPHuX6j2g-0",authDomain:"react-chat-90df9.firebaseapp.com",projectId:"react-chat-90df9",storageBucket:"react-chat-90df9.appspot.com",messagingSenderId:"1008797360315",appId:"1:1008797360315:web:10a368c4ac1eab7a6ac99e",measurementId:"G-NY1K5ZLSDJ"})),s=a.auth();s.setPersistence(i.a.auth.Auth.Persistence.LOCAL);var u=a.database();function d(e,t){return new Promise((function(n,r){s.createUserWithEmailAndPassword(e,t).then((function(e){var t=e.user;e.user?n(t):r("No user detail found")})).catch((function(e){r(e)}))}))}var l=function(e,t){return new Promise((function(n,r){s.signInWithEmailAndPassword(e,t).then((function(e){var t=e.user;e.user?n({id:null===t||void 0===t?void 0:t.uid,email:null===t||void 0===t?void 0:t.email}):r("No user detail found")})).catch((function(e){r(e)}))}))},j=function(){var e=Object(c.a)(o.a.mark((function e(t,n){var r,c,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d(t,n);case 3:return r=e.sent,c={id:r.uid,email:r.email},e.next=7,u.ref("/users/"+r.uid).set(c);case 7:return i=e.sent,console.log("@dbStqore",i),e.abrupt("return",Promise.resolve(c));case 12:return e.prev=12,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t,n){return e.apply(this,arguments)}}()},60:function(e,t,n){"use strict";n.r(t),n.d(t,"doLogin",(function(){return r})),n.d(t,"doLogout",(function(){return o}));var r=function(e){return{type:"DO_LOGIN",user:e}},o=function(){return{type:"DO_LOGOUT"}}},66:function(e,t,n){"use strict";var r=n(5);n(1);t.a=function(e){return Object(r.jsxs)("div",{className:"loadingWindow",children:[Object(r.jsx)("div",{className:"backdrop"}),Object(r.jsx)("div",{className:"loadingContent",children:Object(r.jsx)("div",{className:"loader"})})]})}},83:function(e,t,n){},98:function(e,t,n){"use strict";n.r(t);var r=n(5),o=n(1),c=n.n(o),i=n(22),a=n.n(i),s=(n(83),n(38)),u=n(8),d=n(17),l=n(50),j=n(24),b=function(e){var t=e.component,n=Object(l.a)(e,["component"]),o=Object(j.c)((function(e){return{user:e.user}}));return Object(r.jsx)(u.b,Object(d.a)(Object(d.a)({},n),{},{render:function(e){return o.user.isLoggedIn?Object(r.jsx)(t,Object(d.a)({},e)):Object(r.jsx)(u.a,{to:{pathname:"/login",state:{from:e.location}}})}}))},h=function(e){var t=e.component,n=Object(l.a)(e,["component"]),o=Object(j.c)((function(e){return{user:e.user}}));return Object(r.jsx)(u.b,Object(d.a)(Object(d.a)({},n),{},{render:function(e){return o.user.isLoggedIn?Object(r.jsx)(u.a,{to:{pathname:"/"}}):Object(r.jsx)(t,Object(d.a)({},e))}}))},O=n(23),p={isLoggedIn:!1,email:void 0,id:void 0},g=function(e,t){return Object(d.a)(Object(d.a)({},e),{},{isLoggedIn:!0,email:null===t||void 0===t?void 0:t.email,id:null===t||void 0===t?void 0:t.id})},f=function(e){return Object(d.a)(Object(d.a)({},e),{},{isLoggedIn:!1,email:void 0,id:void 0})},m=Object(O.b)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0,n={DO_LOGIN:g,DO_LOGOUT:f};return t&&t.type in n?n[t.type](e,null===t||void 0===t?void 0:t.user):e}}),v=n(66),x=n(30),y=n.n(x),L=n(39),P=n(51),k=n(52),I=n(25),T=n(54),w=n(53),C=n(119),N=n(123),z=n(124),A=n(126),D=n(125),G=n(73),H=n.n(G),R=n(60),S=n(55),U=function(e){Object(T.a)(n,e);var t=Object(w.a)(n);function n(e){var r;return Object(P.a)(this,n),(r=t.call(this,e)).goToRegisterPage=r.goToRegisterPage.bind(Object(I.a)(r)),r.goToLoginPage=r.goToLoginPage.bind(Object(I.a)(r)),r.goToHome=r.goToHome.bind(Object(I.a)(r)),r.doLogout=r.doLogout.bind(Object(I.a)(r)),r}return Object(k.a)(n,[{key:"goToHome",value:function(){this.props.history.push("/")}},{key:"goToRegisterPage",value:function(){this.props.history.push("/register")}},{key:"goToLoginPage",value:function(){this.props.history.push("/login")}},{key:"doLogout",value:function(){var e=Object(L.a)(y.a.mark((function e(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.a.signOut();case 2:return e.next=4,this.props.doLogout();case 4:this.props.history.push("/login");case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return Object(r.jsx)(C.a,{position:"static",children:Object(r.jsxs)(N.a,{children:[Object(r.jsx)(z.a,{edge:"start","aria-label":"menu",color:"primary",children:Object(r.jsx)(H.a,{})}),Object(r.jsx)(D.a,{variant:"h6",style:{flexGrow:1},onClick:this.goToHome,children:"React Chat"}),this.props.currentUser.isLoggedIn?Object(r.jsxs)("div",{children:[Object(r.jsx)(A.a,{color:"inherit",onClick:function(){e.props.history.push("/myprofile")},children:"My Profile"}),"|",Object(r.jsx)(A.a,{color:"inherit",onClick:this.doLogout,children:"Logout"})]}):Object(r.jsxs)("div",{children:[Object(r.jsx)(A.a,{color:"inherit",onClick:this.goToLoginPage,children:"Login"}),"|",Object(r.jsx)(A.a,{color:"inherit",onClick:this.goToRegisterPage,children:"Register"})]})]})})}}]),n}(c.a.Component),E=Object(j.b)((function(e){return{currentUser:e.user}}),(function(e){return Object(O.a)(R,e)}))(Object(u.g)(U)),_=Object(o.lazy)((function(){return n.e(4).then(n.bind(null,156))})),B=Object(o.lazy)((function(){return Promise.all([n.e(3),n.e(5)]).then(n.bind(null,157))})),J=Object(o.lazy)((function(){return n.e(7).then(n.bind(null,152))})),W=Object(o.lazy)((function(){return n.e(6).then(n.bind(null,153))})),K=Object(o.lazy)((function(){return n.e(8).then(n.bind(null,154))})),Z=Object(O.c)(m);a.a.render(Object(r.jsx)(j.a,{store:Z,children:Object(r.jsxs)(s.a,{children:[Object(r.jsx)(E,{}),Object(r.jsx)(o.Suspense,{fallback:Object(r.jsx)(v.a,{}),children:Object(r.jsxs)(u.d,{children:[Object(r.jsx)(u.b,{exact:!0,path:"/",component:_}),Object(r.jsx)(h,{exact:!0,path:"/login",component:B}),Object(r.jsx)(h,{exact:!0,path:"/register",component:K}),Object(r.jsx)(b,{exact:!0,path:"/myprofile",component:W}),Object(r.jsx)(u.b,{path:"*",component:J})]})})]})}),document.getElementById("root"))}},[[98,1,2]]]);
//# sourceMappingURL=main.a216ea52.chunk.js.map